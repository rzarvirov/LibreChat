{"code":"var _a, _b;\nimport { __spreadArray } from \"tslib\";\n/* eslint-disable max-len */\nimport { z } from 'zod';\nimport { EModelEndpoint } from './schemas';\nexport var supportsFiles = (_a = {},\n    _a[EModelEndpoint.openAI] = true,\n    _a[EModelEndpoint.google] = true,\n    _a[EModelEndpoint.assistants] = true,\n    _a[EModelEndpoint.azureAssistants] = true,\n    _a[EModelEndpoint.agents] = true,\n    _a[EModelEndpoint.azureOpenAI] = true,\n    _a[EModelEndpoint.anthropic] = true,\n    _a[EModelEndpoint.custom] = true,\n    _a[EModelEndpoint.bedrock] = true,\n    _a);\nexport var excelFileTypes = [\n    'application/vnd.ms-excel',\n    'application/msexcel',\n    'application/x-msexcel',\n    'application/x-ms-excel',\n    'application/x-excel',\n    'application/x-dos_ms_excel',\n    'application/xls',\n    'application/x-xls',\n    'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n];\nexport var fullMimeTypesList = __spreadArray([\n    'text/x-c',\n    'text/x-c++',\n    'application/csv',\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n    'text/html',\n    'text/x-java',\n    'application/json',\n    'text/markdown',\n    'application/pdf',\n    'text/x-php',\n    'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n    'text/x-python',\n    'text/x-script.python',\n    'text/x-ruby',\n    'text/x-tex',\n    'text/plain',\n    'text/css',\n    'text/vtt',\n    'image/jpeg',\n    'text/javascript',\n    'image/gif',\n    'image/png',\n    'application/x-tar',\n    'application/typescript',\n    'application/xml',\n    'application/zip',\n    'image/svg',\n    'image/svg+xml'\n], excelFileTypes, true);\nexport var codeInterpreterMimeTypesList = __spreadArray([\n    'text/x-c',\n    'text/x-c++',\n    'application/csv',\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n    'text/html',\n    'text/x-java',\n    'application/json',\n    'text/markdown',\n    'application/pdf',\n    'text/x-php',\n    'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n    'text/x-python',\n    'text/x-script.python',\n    'text/x-ruby',\n    'text/x-tex',\n    'text/plain',\n    'text/css',\n    'image/jpeg',\n    'text/javascript',\n    'image/gif',\n    'image/png',\n    'application/x-tar',\n    'application/typescript',\n    'application/xml',\n    'application/zip'\n], excelFileTypes, true);\nexport var retrievalMimeTypesList = [\n    'text/x-c',\n    'text/x-c++',\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n    'text/html',\n    'text/x-java',\n    'application/json',\n    'text/markdown',\n    'application/pdf',\n    'text/x-php',\n    'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n    'text/x-python',\n    'text/x-script.python',\n    'text/x-ruby',\n    'text/x-tex',\n    'text/plain',\n];\nexport var imageExtRegex = /\\.(jpg|jpeg|png|gif|webp)$/i;\nexport var excelMimeTypes = /^application\\/(vnd\\.ms-excel|msexcel|x-msexcel|x-ms-excel|x-excel|x-dos_ms_excel|xls|x-xls|vnd\\.openxmlformats-officedocument\\.spreadsheetml\\.sheet)$/;\nexport var textMimeTypes = /^(text\\/(x-c|x-csharp|x-c\\+\\+|x-java|html|markdown|x-php|x-python|x-script\\.python|x-ruby|x-tex|plain|css|vtt|javascript|csv))$/;\nexport var applicationMimeTypes = /^(application\\/(epub\\+zip|csv|json|pdf|x-tar|typescript|vnd\\.openxmlformats-officedocument\\.(wordprocessingml\\.document|presentationml\\.presentation|spreadsheetml\\.sheet)|xml|zip))$/;\nexport var imageMimeTypes = /^image\\/(jpeg|gif|png|webp)$/;\nexport var supportedMimeTypes = [\n    textMimeTypes,\n    excelMimeTypes,\n    applicationMimeTypes,\n    imageMimeTypes,\n    /** Supported by LC Code Interpreter PAI */\n    /^image\\/(svg|svg\\+xml)$/,\n];\nexport var codeInterpreterMimeTypes = [\n    textMimeTypes,\n    excelMimeTypes,\n    applicationMimeTypes,\n    imageMimeTypes,\n];\nexport var codeTypeMapping = {\n    c: 'text/x-c',\n    cs: 'text/x-csharp',\n    cpp: 'text/x-c++',\n    md: 'text/markdown',\n    php: 'text/x-php',\n    py: 'text/x-python',\n    rb: 'text/x-ruby',\n    tex: 'text/x-tex',\n    js: 'text/javascript',\n    sh: 'application/x-sh',\n    ts: 'application/typescript',\n    tar: 'application/x-tar',\n    zip: 'application/zip',\n};\nexport var retrievalMimeTypes = [\n    /^(text\\/(x-c|x-c\\+\\+|html|x-java|markdown|x-php|x-python|x-script\\.python|x-ruby|x-tex|plain|vtt|xml))$/,\n    /^(application\\/(json|pdf|vnd\\.openxmlformats-officedocument\\.(wordprocessingml\\.document|presentationml\\.presentation)))$/,\n];\nexport var megabyte = 1024 * 1024;\n/** Helper function to get megabytes value */\nexport var mbToBytes = function (mb) { return mb * megabyte; };\nvar defaultSizeLimit = mbToBytes(512);\nvar assistantsFileConfig = {\n    fileLimit: 10,\n    fileSizeLimit: defaultSizeLimit,\n    totalSizeLimit: defaultSizeLimit,\n    supportedMimeTypes: supportedMimeTypes,\n    disabled: false,\n};\nexport var fileConfig = {\n    endpoints: (_b = {},\n        _b[EModelEndpoint.assistants] = assistantsFileConfig,\n        _b[EModelEndpoint.azureAssistants] = assistantsFileConfig,\n        _b[EModelEndpoint.agents] = assistantsFileConfig,\n        _b.default = {\n            fileLimit: 10,\n            fileSizeLimit: defaultSizeLimit,\n            totalSizeLimit: defaultSizeLimit,\n            supportedMimeTypes: supportedMimeTypes,\n            disabled: false,\n        },\n        _b),\n    serverFileSizeLimit: defaultSizeLimit,\n    avatarSizeLimit: mbToBytes(2),\n    checkType: function (fileType, supportedTypes) {\n        if (supportedTypes === void 0) { supportedTypes = supportedMimeTypes; }\n        return supportedTypes.some(function (regex) { return regex.test(fileType); });\n    },\n};\nvar supportedMimeTypesSchema = z\n    .array(z.any())\n    .optional()\n    .refine(function (mimeTypes) {\n    if (!mimeTypes) {\n        return true;\n    }\n    return mimeTypes.every(function (mimeType) { return mimeType instanceof RegExp || typeof mimeType === 'string'; });\n}, {\n    message: 'Each mimeType must be a string or a RegExp object.',\n});\nexport var endpointFileConfigSchema = z.object({\n    disabled: z.boolean().optional(),\n    fileLimit: z.number().min(0).optional(),\n    fileSizeLimit: z.number().min(0).optional(),\n    totalSizeLimit: z.number().min(0).optional(),\n    supportedMimeTypes: supportedMimeTypesSchema.optional(),\n});\nexport var fileConfigSchema = z.object({\n    endpoints: z.record(endpointFileConfigSchema).optional(),\n    serverFileSizeLimit: z.number().min(0).optional(),\n    avatarSizeLimit: z.number().min(0).optional(),\n});\n/** Helper function to safely convert string patterns to RegExp objects */\nexport var convertStringsToRegex = function (patterns) {\n    return patterns.reduce(function (acc, pattern) {\n        try {\n            var regex = new RegExp(pattern);\n            acc.push(regex);\n        }\n        catch (error) {\n            console.error(\"Invalid regex pattern \\\"\".concat(pattern, \"\\\" skipped.\"));\n        }\n        return acc;\n    }, []);\n};\nexport function mergeFileConfig(dynamic) {\n    var mergedConfig = fileConfig;\n    if (!dynamic) {\n        return mergedConfig;\n    }\n    if (dynamic.serverFileSizeLimit !== undefined) {\n        mergedConfig.serverFileSizeLimit = mbToBytes(dynamic.serverFileSizeLimit);\n    }\n    if (dynamic.avatarSizeLimit !== undefined) {\n        mergedConfig.avatarSizeLimit = mbToBytes(dynamic.avatarSizeLimit);\n    }\n    if (!dynamic.endpoints) {\n        return mergedConfig;\n    }\n    var _loop_1 = function (key) {\n        var dynamicEndpoint = dynamic.endpoints[key];\n        if (!mergedConfig.endpoints[key]) {\n            mergedConfig.endpoints[key] = {};\n        }\n        var mergedEndpoint = mergedConfig.endpoints[key];\n        if (dynamicEndpoint.disabled === true) {\n            mergedEndpoint.disabled = true;\n            mergedEndpoint.fileLimit = 0;\n            mergedEndpoint.fileSizeLimit = 0;\n            mergedEndpoint.totalSizeLimit = 0;\n            mergedEndpoint.supportedMimeTypes = [];\n            return \"continue\";\n        }\n        if (dynamicEndpoint.fileSizeLimit !== undefined) {\n            mergedEndpoint.fileSizeLimit = mbToBytes(dynamicEndpoint.fileSizeLimit);\n        }\n        if (dynamicEndpoint.totalSizeLimit !== undefined) {\n            mergedEndpoint.totalSizeLimit = mbToBytes(dynamicEndpoint.totalSizeLimit);\n        }\n        var configKeys = ['fileLimit'];\n        configKeys.forEach(function (field) {\n            if (dynamicEndpoint[field] !== undefined) {\n                mergedEndpoint[field] = dynamicEndpoint[field];\n            }\n        });\n        if (dynamicEndpoint.supportedMimeTypes) {\n            mergedEndpoint.supportedMimeTypes = convertStringsToRegex(dynamicEndpoint.supportedMimeTypes);\n        }\n    };\n    for (var key in dynamic.endpoints) {\n        _loop_1(key);\n    }\n    return mergedConfig;\n}\n//# sourceMappingURL=file-config.js.map","references":["/Users/romanzarvirov/aibuddy/LibreChat/node_modules/zod/index.d.ts","/Users/romanzarvirov/aibuddy/LibreChat/packages/data-provider/src/schemas.ts","/Users/romanzarvirov/aibuddy/LibreChat/packages/data-provider/src/types/files.ts"],"map":"{\"version\":3,\"file\":\"file-config.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/file-config.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/romanzarvirov/aibuddy/LibreChat/packages/data-provider/dist/types/file-config.d.ts","writeByteOrderMark":false,"text":"import { z } from 'zod';\nimport type { FileConfig } from './types/files';\nexport declare const supportsFiles: {\n    openAI: boolean;\n    google: boolean;\n    assistants: boolean;\n    azureAssistants: boolean;\n    agents: boolean;\n    azureOpenAI: boolean;\n    anthropic: boolean;\n    custom: boolean;\n    bedrock: boolean;\n};\nexport declare const excelFileTypes: string[];\nexport declare const fullMimeTypesList: string[];\nexport declare const codeInterpreterMimeTypesList: string[];\nexport declare const retrievalMimeTypesList: string[];\nexport declare const imageExtRegex: RegExp;\nexport declare const excelMimeTypes: RegExp;\nexport declare const textMimeTypes: RegExp;\nexport declare const applicationMimeTypes: RegExp;\nexport declare const imageMimeTypes: RegExp;\nexport declare const supportedMimeTypes: RegExp[];\nexport declare const codeInterpreterMimeTypes: RegExp[];\nexport declare const codeTypeMapping: {\n    [key: string]: string;\n};\nexport declare const retrievalMimeTypes: RegExp[];\nexport declare const megabyte: number;\n/** Helper function to get megabytes value */\nexport declare const mbToBytes: (mb: number) => number;\nexport declare const fileConfig: {\n    endpoints: {\n        assistants: {\n            fileLimit: number;\n            fileSizeLimit: number;\n            totalSizeLimit: number;\n            supportedMimeTypes: RegExp[];\n            disabled: boolean;\n        };\n        azureAssistants: {\n            fileLimit: number;\n            fileSizeLimit: number;\n            totalSizeLimit: number;\n            supportedMimeTypes: RegExp[];\n            disabled: boolean;\n        };\n        agents: {\n            fileLimit: number;\n            fileSizeLimit: number;\n            totalSizeLimit: number;\n            supportedMimeTypes: RegExp[];\n            disabled: boolean;\n        };\n        default: {\n            fileLimit: number;\n            fileSizeLimit: number;\n            totalSizeLimit: number;\n            supportedMimeTypes: RegExp[];\n            disabled: boolean;\n        };\n    };\n    serverFileSizeLimit: number;\n    avatarSizeLimit: number;\n    checkType: (fileType: string, supportedTypes?: RegExp[]) => boolean;\n};\nexport declare const endpointFileConfigSchema: z.ZodObject<{\n    disabled: z.ZodOptional<z.ZodBoolean>;\n    fileLimit: z.ZodOptional<z.ZodNumber>;\n    fileSizeLimit: z.ZodOptional<z.ZodNumber>;\n    totalSizeLimit: z.ZodOptional<z.ZodNumber>;\n    supportedMimeTypes: z.ZodOptional<z.ZodEffects<z.ZodOptional<z.ZodArray<z.ZodAny, \"many\">>, any[] | undefined, any[] | undefined>>;\n}, \"strip\", z.ZodTypeAny, {\n    disabled?: boolean | undefined;\n    fileLimit?: number | undefined;\n    fileSizeLimit?: number | undefined;\n    totalSizeLimit?: number | undefined;\n    supportedMimeTypes?: any[] | undefined;\n}, {\n    disabled?: boolean | undefined;\n    fileLimit?: number | undefined;\n    fileSizeLimit?: number | undefined;\n    totalSizeLimit?: number | undefined;\n    supportedMimeTypes?: any[] | undefined;\n}>;\nexport declare const fileConfigSchema: z.ZodObject<{\n    endpoints: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodObject<{\n        disabled: z.ZodOptional<z.ZodBoolean>;\n        fileLimit: z.ZodOptional<z.ZodNumber>;\n        fileSizeLimit: z.ZodOptional<z.ZodNumber>;\n        totalSizeLimit: z.ZodOptional<z.ZodNumber>;\n        supportedMimeTypes: z.ZodOptional<z.ZodEffects<z.ZodOptional<z.ZodArray<z.ZodAny, \"many\">>, any[] | undefined, any[] | undefined>>;\n    }, \"strip\", z.ZodTypeAny, {\n        disabled?: boolean | undefined;\n        fileLimit?: number | undefined;\n        fileSizeLimit?: number | undefined;\n        totalSizeLimit?: number | undefined;\n        supportedMimeTypes?: any[] | undefined;\n    }, {\n        disabled?: boolean | undefined;\n        fileLimit?: number | undefined;\n        fileSizeLimit?: number | undefined;\n        totalSizeLimit?: number | undefined;\n        supportedMimeTypes?: any[] | undefined;\n    }>>>;\n    serverFileSizeLimit: z.ZodOptional<z.ZodNumber>;\n    avatarSizeLimit: z.ZodOptional<z.ZodNumber>;\n}, \"strip\", z.ZodTypeAny, {\n    endpoints?: Record<string, {\n        disabled?: boolean | undefined;\n        fileLimit?: number | undefined;\n        fileSizeLimit?: number | undefined;\n        totalSizeLimit?: number | undefined;\n        supportedMimeTypes?: any[] | undefined;\n    }> | undefined;\n    serverFileSizeLimit?: number | undefined;\n    avatarSizeLimit?: number | undefined;\n}, {\n    endpoints?: Record<string, {\n        disabled?: boolean | undefined;\n        fileLimit?: number | undefined;\n        fileSizeLimit?: number | undefined;\n        totalSizeLimit?: number | undefined;\n        supportedMimeTypes?: any[] | undefined;\n    }> | undefined;\n    serverFileSizeLimit?: number | undefined;\n    avatarSizeLimit?: number | undefined;\n}>;\n/** Helper function to safely convert string patterns to RegExp objects */\nexport declare const convertStringsToRegex: (patterns: string[]) => RegExp[];\nexport declare function mergeFileConfig(dynamic: z.infer<typeof fileConfigSchema> | undefined): FileConfig;\n"}}
